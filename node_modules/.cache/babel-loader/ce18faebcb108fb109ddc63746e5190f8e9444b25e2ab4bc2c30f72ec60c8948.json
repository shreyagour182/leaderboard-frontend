{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import api from\"../api\";import\"./ClaimHistory.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const INITIAL_LIMIT=10;const LOAD_MORE_STEP=10;export default function ClaimHistory(_ref){let{userId,refresh}=_ref;const[history,setHistory]=useState([]);const[displayLimit,setDisplayLimit]=useState(INITIAL_LIMIT);useEffect(()=>{api.get(userId?`/users/history/${userId}`:\"/users/history\").then(res=>{setHistory(res.data.slice().reverse());setDisplayLimit(INITIAL_LIMIT);// Reset limit on user/filter change\n});},[userId,refresh]);const showMore=()=>setDisplayLimit(lim=>lim+LOAD_MORE_STEP);return/*#__PURE__*/_jsxs(\"div\",{className:\"claim-history\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Claim History\"}),/*#__PURE__*/_jsx(\"ul\",{children:history.slice(0,displayLimit).map((h,i)=>/*#__PURE__*/_jsxs(\"li\",{children:[h.userId.name,\" claimed \",h.points,\" points on\",\" \",new Date(h.claimedAt).toLocaleString()]},i))}),displayLimit<history.length&&/*#__PURE__*/_jsx(\"button\",{className:\"show-more-btn\",onClick:showMore,children:\"Show More\"})]});}","map":{"version":3,"names":["React","useEffect","useState","api","jsx","_jsx","jsxs","_jsxs","INITIAL_LIMIT","LOAD_MORE_STEP","ClaimHistory","_ref","userId","refresh","history","setHistory","displayLimit","setDisplayLimit","get","then","res","data","slice","reverse","showMore","lim","className","children","map","h","i","name","points","Date","claimedAt","toLocaleString","length","onClick"],"sources":["C:/Users/shiviii/leaderboard-app/leaderboard-frontend/src/components/ClaimHistory.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport api from \"../api\";\r\nimport \"./ClaimHistory.css\";\r\n\r\nconst INITIAL_LIMIT = 10;\r\nconst LOAD_MORE_STEP = 10;\r\n\r\nexport default function ClaimHistory({ userId, refresh }) {\r\n  const [history, setHistory] = useState([]);\r\n  const [displayLimit, setDisplayLimit] = useState(INITIAL_LIMIT);\r\n\r\n  useEffect(() => {\r\n    api\r\n      .get(userId ? `/users/history/${userId}` : \"/users/history\")\r\n      .then(res => {\r\n        setHistory(res.data.slice().reverse());\r\n        setDisplayLimit(INITIAL_LIMIT); // Reset limit on user/filter change\r\n      });\r\n  }, [userId, refresh]);\r\n\r\n  const showMore = () => setDisplayLimit(lim => lim + LOAD_MORE_STEP);\r\n\r\n  return (\r\n    <div className=\"claim-history\">\r\n      <h4>Claim History</h4>\r\n      <ul>\r\n        {history.slice(0, displayLimit).map((h, i) => (\r\n          <li key={i}>\r\n            {h.userId.name} claimed {h.points} points on{\" \"}\r\n            {new Date(h.claimedAt).toLocaleString()}\r\n          </li>\r\n        ))}\r\n      </ul>\r\n      {displayLimit < history.length &&\r\n        <button className=\"show-more-btn\" onClick={showMore}>\r\n          Show More\r\n        </button>\r\n      }\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,GAAG,KAAM,QAAQ,CACxB,MAAO,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE5B,KAAM,CAAAC,aAAa,CAAG,EAAE,CACxB,KAAM,CAAAC,cAAc,CAAG,EAAE,CAEzB,cAAe,SAAS,CAAAC,YAAYA,CAAAC,IAAA,CAAsB,IAArB,CAAEC,MAAM,CAAEC,OAAQ,CAAC,CAAAF,IAAA,CACtD,KAAM,CAACG,OAAO,CAAEC,UAAU,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACc,YAAY,CAAEC,eAAe,CAAC,CAAGf,QAAQ,CAACM,aAAa,CAAC,CAE/DP,SAAS,CAAC,IAAM,CACdE,GAAG,CACAe,GAAG,CAACN,MAAM,CAAG,kBAAkBA,MAAM,EAAE,CAAG,gBAAgB,CAAC,CAC3DO,IAAI,CAACC,GAAG,EAAI,CACXL,UAAU,CAACK,GAAG,CAACC,IAAI,CAACC,KAAK,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC,CAAC,CACtCN,eAAe,CAACT,aAAa,CAAC,CAAE;AAClC,CAAC,CAAC,CACN,CAAC,CAAE,CAACI,MAAM,CAAEC,OAAO,CAAC,CAAC,CAErB,KAAM,CAAAW,QAAQ,CAAGA,CAAA,GAAMP,eAAe,CAACQ,GAAG,EAAIA,GAAG,CAAGhB,cAAc,CAAC,CAEnE,mBACEF,KAAA,QAAKmB,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BtB,IAAA,OAAAsB,QAAA,CAAI,eAAa,CAAI,CAAC,cACtBtB,IAAA,OAAAsB,QAAA,CACGb,OAAO,CAACQ,KAAK,CAAC,CAAC,CAAEN,YAAY,CAAC,CAACY,GAAG,CAAC,CAACC,CAAC,CAAEC,CAAC,gBACvCvB,KAAA,OAAAoB,QAAA,EACGE,CAAC,CAACjB,MAAM,CAACmB,IAAI,CAAC,WAAS,CAACF,CAAC,CAACG,MAAM,CAAC,YAAU,CAAC,GAAG,CAC/C,GAAI,CAAAC,IAAI,CAACJ,CAAC,CAACK,SAAS,CAAC,CAACC,cAAc,CAAC,CAAC,GAFhCL,CAGL,CACL,CAAC,CACA,CAAC,CACJd,YAAY,CAAGF,OAAO,CAACsB,MAAM,eAC5B/B,IAAA,WAAQqB,SAAS,CAAC,eAAe,CAACW,OAAO,CAAEb,QAAS,CAAAG,QAAA,CAAC,WAErD,CAAQ,CAAC,EAER,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}